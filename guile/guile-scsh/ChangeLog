2000-10-12  Gary Houston  <ghouston@arglist.com>

	* rx/re-low.scm (compile-posix-re->c-struct cre-search, cre-search?):
	use (regex spencer).

	* init.scm: use the guilerxspencer module, distributed
	separately, instead of the regex routines in guile-core.
	Scsh takes advantage of the support for embedded ASCII nuls
	in Spencer's library.

2000-09-14  Gary Houston  <ghouston@arglist.com>

	* lib/string-lib.scm (string->list): fix a known scsh bug:
	string->list didn't work at all.

2000-09-07  Gary Houston  <ghouston@arglist.com>

	* alt-syntax.scm (define-syntax): quote ,name when consing it to
	form.

2000-09-04  Gary Houston  <ghouston@arglist.com>

	* README: updated.  guile-scsh is now based on scsh 0.5.2.
	mention some bugs in the INCOMPAT file: more work is needed.

2000-08-30  Gary Houston  <ghouston@arglist.com>

	* char-set.scm (string-iter): renamed to char-set-string-iter,
	so it doesn't conflict with lib/string-lib.scm:string-iter.
	should be fixed by module system instead.
	only called by char-set-invert! and char-set-intersection! in
	char-set.scm.

2000-08-28  Gary Houston  <ghouston@arglist.com>

	* rx/oldfuns.scm: don't redefine Guile primitives.

2000-08-23  Gary Houston  <ghouston@arglist.com>

	* compile-posix-re->c-struct, cre-search, cre-search?: rewritten
	using Guile regexp primitives.  not particularly optimal nor
	necessarily complete.

2000-08-21  Gary Houston  <ghouston@arglist.com>

	* rx/re-low.scm (clean-up-cres): make this a no-op.

2000-08-20  Gary Houston  <ghouston@arglist.com>

	* sighandlers.scm (maybe-define-signal), errno.scm (maybe-define-eno):
	use string-downcase, not string-downcase!.

	* init.scm (structure-ref): defined bogusly: scheme48 module system
	is not supported.

	* init: load new files.
	* lib: ccp.scm, list-lib.scm, string-lib.scm: new files from
	scsh-0.5.2.

	* lib: new directory.

	* init.scm (rx, if-sre-form): defined, from scsh old-packages.scm.

	* init.scm: load new files.

	* rx: new subdirectory.
	
	* jar-defrecord.scm, re-low.scm, re-high.scm,
	 cond-package.scm let-match.scm oldfuns.scm parse.scm posixstr.scm,
	 re-fold.scm re-subst.scm re-syntax.scm rx-lib.scm simp.scm,
	 spencer.scm: new files from scsh-0.5.2.

2000-08-10  Gary Houston  <ghouston@arglist.com>

	* init.scm: don't define index, rrindex.

	* updates from scsh-0.5.2: COPYING, awk.scm, char-set.scm,
	defrec.scm, enumconst.scm, fileinfo.scm, filemtch.scm,
	filesys.scm, fname.scm, fr.scm, glob.scm, here.scm, network.scm,
	procobj.scm, rdelim.scm, re.scm, rw.scm, scsh-condition.scm,
	scsh-version.scm, scsh.scm, sighandlers.scm, stringcoll.scm,
	syntax-helpers.scm, syntax.scm, syscalls.scm, time.scm,
	utilities.scm
	
1998-04-05  Mikael Djurfeldt  <mdj@nada.kth.se>

	* init.scm (rindex): Bugfix: start is an optional argument.
	(Thanks to David Lutterkort.)

Sat Oct 11 03:30:45 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm, Makefile.am: add scsh-version.scm.
	* scsh-version.scm (scsh-major-version): new file from scsh.

Fri Oct 10 22:48:52 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm (reading-error): defined.

Thu Oct  9 02:32:41 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* here.scm (#\<): don't read-char from port.  use read-hash-extend.
	(make-immutable!, immutable, unspecific): defined.

	* Makefile.am, init.scm: add here.scm
	* here.scm: new file from scsh.

Wed Oct  8 03:50:13 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* Makefile.am: add awk.scm, ekko.scm, enumconst.scm
	* init.scm: load awk.scm, enumconst.scm
	* enumconst.scm: new file from scsh.
	* ekko.scm: new file from scsh.  change interpreter to guile.
	* awk.scm: new file from scsh.  define awk at the end.
	* init.scm (batch-mode?, set-batch-mode?!): deleted, now in
	boot-9.scm.

Sat Aug 30 19:31:05 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* filemtch.scm (split-pat): bug fix: would fail if pattern
	contained a slash.
	(file-match): use catch, not with-handler.
	* init.scm (rindex): bug fix: scsh's start argument is
 	string-rindex's end.
	* init.scm, Makefile.am: add new files.
	* glob.scm, filemtch.scm, filesys.scm: new files from scsh 0.5.1.
	(constant-glob? pattern): bug fix: last "if" had unused third
	branch.
	* syscalls.scm (open-fdes): removed, primitive in Guile.
	(close-fdes): defined.
	* scsh.scm (call/temp-file, create-temp-file, *temp-file-template*,
	temp-file-iterate, temp-file-channel, open-string-source): defined.
	(run/collecting*, ..., string-filter): defined.
	(suspend): defined.
	(y-or-n?, *y-or-n-eof-count*): uncommented, since used in
 	filesys.scm.
	* init.scm, Makefile.am: add fluid.scm, stringcoll.scm
 	and alt-syntax.scm.
	* syntax.scm: new file from scsh 0.5.1.
	* alt-syntax.scm: renamed from syntax.scm.
	* fluid.scm: new file, implements Scheme48 fluid variables.
	* stringcoll.scm: new file from scsh 0.5.1.

Sat Aug 23 19:17:19 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* scsh.scm (exec-path-search, exec/env, exec-path/env, exec-path, 
	exec, fork, %fork, really-fork): defined.
	(fork/pipe, %fork/pipe, really-fork/pipe, %fork/pipe+, fork/pipe+,
	really-fork/pipe+, tail-pipe, tail-pipe+, pipe*): defined.
	* init.scm (set-batch-mode?!, batch-mode?): dummy definitions.
	* Makefile.am, init.scm: add bitwise.scm.
	* bitwise.scm: new file from scsh-0.5.1/alt/.
	(biwise-not, bitwise-and, bitwise-or, bitwise-ior, bitwise-xor):
	moved from init.scm.
	(count-bits): shift -1, not 1.  Commented out, seems unused.
	* scsh-condition.scm (errno-error, with-errno-handler): modified
	to use Guile primitives.
	Don't define syscall-error condition type.
	* syscalls.scm (errno-msg): defined.
	* errno.scm: include all errnos from cpp_err_symbols.in (libguile).

Sat Aug 16 08:10:24 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: load fileinfo.scm, condition.scm, scsh-condition.scm.
	* Makefile.am: add fileinfo.scm, condition.scm, scsh-condition.scm.
	* scsh-condition.scm: new file from scsh-0.5.1.
	* condition.scm: new file from scsh-0.5.1/rts/.
	* fileinfo.scm: new file from scsh-0.5.1.
	* init.scm: initialize command-line-arguments.
	* scsh.scm (arg*, arg, argv): defined.
	(stringify): defined.
	* syscalls.scm (define-errno-syscall): moved from init.scm.
	(%exec, %%fork): defined.
	(user-gid, user-effective-gid, set-gid, user-supplementary-gids,
	user-uid, user-effective-uid, set-uid, user-login-name, pid,
	parent-pid, process-group, set-process-group, become-session-leader):
	defined.
	(set-file-mode, set-file-owner, set-file-group, read-symlink,
	delete-directory, set-file-times): defined.
	(file-info, sync-file, sync-file-system, seek): defined.
	(process-times, cpu-ticks/sec): defined.
	(%filter-C-strings!): update regexp usage.
	(directory-files): defined.
	(fdes-flags, set-fdes-flags, fdes-status, set-fdes-status,
	open/read etc.): defined.

Sat Aug  9 08:34:09 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* syscalls.scm: signals: signal-process, signal-process-group,
	pause-until-interrupt.
	miscellaneous: sleep, sleep-until, system-name.
	* Makefile.am (scsh_DATA): add weak.scm, population.scm, procobj.scm,
	sighandlers.scm.
	* init.scm: load weak.scm, population.scm, procobj.scm,
	sighandlers.scm.
	* sighandlers.scm: new file from scsh-0.5.1, partially reimplemented
	using Guile's sigaction.
	* procobj.scm: new file from scsh-0.5.1, modified for Guile.
	* population.scm: new file from scsh-0.5.1/scheme48.
	* weak.scm: new file, implements scheme48-style weak pointers.

Tue Jul 29 01:39:40 1997  Gary Houston  <ghouston@actrix.gen.nz>
	
	* Makefile.am (scsh_DATA): add newports.scm.

	* scsh.scm (exit): defined here instead of in syscalls.scm.

	* init.scm: load newports.scm.

	* newports.scm: new file, excerpts from scsh's version modified
	for Guile.

	* scsh.scm: include stdio/stdport sync procedures.

Sat Jul 26 06:22:36 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: load syntax-helpers.scm.

	* Makefile.am (scsh_DATA): add syntax-helpers.scm.
	* syntax-helpers.scm: new file from scsh 0.5.1.
	(name?): make it the same as symbol?

	* scsh.scm: define call-terminally.
	define with-env*, with-total-env*, with-cwd*, with-umask* and
	the macro versions.

	* syscalls.scm: redefine exit, pipe (ugh).
	Define cwd, set-umask.
	Include environment stuff, gives only alist->env and env->alist.

Fri Jul 18 07:31:03 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: load re.scm.
	* re.scm: delete everything except regexp-num-submatches.

Wed Jul 16 14:40:40 1997  Jim Blandy  <jimb@floss.red-bean.com>

	* Makefile.am: Install SCSH files in $(datadir)/guile, not in the
	version-specific directory.  I think SCSH shouldn't be tied to a
	specific version of Guile.
	* Makefile.in: Regenerated.

Sun Jun 15 06:06:58 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* configure.in: change the version to 1.2a so it will install
	in the right place (maybe).

	* README: now it's a port of scsh 0.5.1.

	* init.scm: don't include re.scm until Guile's interface is stable.

	* match:start, match:end, match:substring updated from scsh 0.5.1.
	regexp-substitute, regexp-substitute/global, regexp-num-submatches:
	new from scsh 0.5.1.

	* syscalls.scm (%filter-C-strings!): moved from re.scm, following
	scsh 0.5.1.

	* utilities.scm: new version from scsh 0.5.1, adds string-replace!,
	substring-replace!, string-reduce.

	* time.scm: minor changes for scsh 0.4.4 -> 0.5.1

	* rw.scm: delete y-or-n? and *y-or-n-eof-count* which have moved
	in scsh 0.5.1 (to scsh.scm, but we don't need them).

Tue May 13 11:59:28 1997  Jim Blandy  <jimb@floss.cyclic.com>

	* Makefile.in, aclocal.m4, configure: Regenerated using automake
	1.1p.

	Lie to automake in a different way, to get it to install things in
	the right place.
	* configure.in (AM_INIT_AUTOMAKE): Call the package guile-scsh,
	not guile; this determines the name of the disty.
	* Makefile.am (scshdir): Renamed from subpkgdatadir.  Use
	$(datadir)/guile instead of $(pkgdatadir), since the latter's
	value uses the package name given to AM_INIT_AUTOMAKE.
	(scsh_DATA): Renamed from subpkgdata_DATA.
	(EXTRA_DIST): Fix reference.
	* Makefile.in, configure: Regenerated.

	Make SCSH into a separate distribution.
	* README: Renamed from README.PORT.
	* configure.in: Use AM_INIT_AUTOMAKE, not AM_INIT_GUILE_MODULE.
	* Makefile.am: Don't use @module@ to decide where to install
	things.  No need to mention README.PORT; automake will grab it
	automatically now, since it's named README.  Don't try to
	distribute the PLUGIN stuff.
	* INSTALL: New file; stock text.
	* install-sh, missing, mkinstalldirs: New files, used by
	automake-generated makefiles.
	* configure, Makefile.in, aclocal.m4: Regenerated.

Sat Apr 26 03:16:18 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* time.scm (format-date): Uncommented and rewritten.

Fri Apr 11 08:15:40 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* rdelim.scm: uncomment skip-char-set.

	* Makefile.am (subpkgdata_DATA): add fr.scm.
	* init.scm: load fr.scm.
	* fr.scm: copied from scsh.

Mon Apr  7 08:23:03 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* time.scm (date, time): fixed and uncommented.

Sat Apr  5 06:44:32 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* time.scm (ticks/sec): define, always 1000000.
	(time+ticks): use gettimeofday.

	* Makefile.am (subpkgdata_DATA): add time.scm.
	* init.scm: load time.scm.  require 'format from slib.

Tue Apr  1 23:19:08 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* time.scm: copied from scsh and modified to use Guile primitives.

Mon Mar 31 02:24:25 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* rdelim.scm: uncomment read-paragraph.

	* Makefile.am (subpkgdata_DATA): add re.scm.
	* init.scm: load re.scm.
	* re.scm: copied from scsh and modified to use Guile regular
	expressions.

Tue Mar 25 04:28:51 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* syscalls.scm (name->user-info, uid->user-info): defined, needed
	by fname.scm.

	* Makefile.am (subpkgdata_DATA): add fname.scm, syscalls.scm, scsh.scm.

	* init.scm: load fname.scm, scsh.scm and call init-scsh-vars.

	* scsh.scm: new file, list manipulation and global variable init
	parts from scsh.

	* fname.scm: copied from scsh.

	* init.scm (wait/poll, wait/stopped-children): defined, all that's
	needed from waitcodes.scm.

Wed Mar 19 04:55:51 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* syscalls.scm: define user-info record and procedures user-info,
	->uid, ->username, %homedir.
	define group-info record and procedures group-info, ->gid, ->groupname.

Mon Mar 17 19:40:45 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: load syscalls.scm.
	* syscalls.scm: new file.  Will not include all of the contents
	of scsh's syscalls.scm.

Tue Mar 11 04:09:55 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* (let-opt.scm, utilities.scm): revert to scsh's versions, no longer
	renaming :optional.
	(rw.scm, network.scm): change optional back to :optional.

Mon Feb 24 21:47:59 1997  Mikael Djurfeldt  <mdj@mdj.nada.kth.se>

	* configure.in: Added AM_MAINTAINER_MODE

Fri Jan 31 04:36:42 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: use use-modules instead of define-module to access slib.

Sat Jan 25 01:03:03 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: load char-set.scm and rdelim.scm.
	* Makefile.am (subpkgdata_DATA): add char-set.scm and rdelim.scm.

	* rdelim.scm: new file from scsh.  Some procedures have been
 	implemented in libguile/ice-9 (based on the scsh interfaces), so
 	the versions here just modify them to use scsh char-sets and
 	multiple values.

	* rw.scm (generic-read-string!/partial, generic-read-string!,
	generic-write-string/partial, generic-write-string: adapt
	to change in uniform-array-read/write arguments.

	* network.scm (generic-receive-message!, 
	generic-receive-message!/partial): adapt to changes in recvfrom!
	primitive.

	* char-set.scm: new file from scsh.

Mon Jan 20 01:12:38 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* Makefile.am, Makefile.in, PLUGIN/OPT, README.PORT, configure.in,
	configure, aclocal.m4: new files.

	* network.scm (generic-receive-message!/partial): catch sytem-error
	and check for errno/wouldblock or errno/again.

Sat Jan 18 00:52:14 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm (index, rindex): replace versions in utilities.scm with
	primitives.
	load errno.scm.

	* rw.scm: globally replace :optional with optional.
	comment out y-or-n? and *y-or-n-eof-count*.
	(read-string!/partial, generic-read-string!/partial,
	generic-read-string!, read-string!, generic-write-string/partial,
	write-string/partial, generic-write-string, write-string):
	use guile primitives.

	* netconst.scm: undefine maybe-define and maybe-define-so after use.
	* errno.scm: new file.

Wed Jan  8 02:32:56 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm (ascii->char, char->ascii) defined.

	* netconst.scm (maybe-define-so): new macro.  use it to define
	socket option constants.
	remove a few SO_ types which don't appear in scsh's netconst.scm.
	define variables options/boolean etc.

	* network.scm: socket-address->list: new procedure.
	(generic-send-message, generic-send-message/partial, socket-option,
	set-socket-option, address->host-info, name->host-info,
	address->network-info, name->network-info, port->service-info,
	name->service-info, number->protocol-info, name->protocol-info):
	use guile primitives.
	(send-message, send-message/partial): minor modifications.
	comment out C-long-vec->Scheme, integer->string, string->integer.

Mon Jan  6 05:00:19 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* network.scm (generic-receive-message!): use guile primitives.
	(receive-message!): minor change.
	(receive-message): use the scsh definition.
	(generic-receive-mesage/partial, receive-message/partial,
	receive-message!/partial): similar.

	* init.scm: load rw.scm

	* rw.scm: copied from scsh.

Sat Jan  4 02:48:02 1997  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm (define-structure): simple substitute.

Sun Dec 29 08:12:10 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* let-opt.scm: new copy from scsh.  replace :optional with optional.

Fri Dec 27 06:06:50 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: remove integer->string.

Sat Dec 21 01:49:23 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* network.scm: (close-socket, bind-socket, create-socket,
	connect-socket, listen-socket, accept-connection,
	socket-remote-address, socket-local-address, shutdown-socket,
	create-socket-pair, receive-message: use Guile network primitives.
	(socket-address->list family address): new procedure.
	(make-addr): comment out.
	(address-vector->socket-address): new procedure.

Thu Dec 19 05:29:30 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* network.scm (internet-address->socket-address): store the
	address/port in a pair instead of packing them into a string.
	(socket-address->internet-address): equal and opposite change.
	(throughout): replace :optional with optional.
	(socket->port sock): replaces socket->fdes.

	* init.scm: define integer->string, load netconst.scm.
	define define-foreign, define-errno-syscall,
	define-record-dicloser (do nothing.)
	load network.scm.

Wed Dec 18 22:44:02 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* netconst.scm: new file, defines network constants.

Tue Dec 17 06:24:39 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* network.scm: copied from scsh

	* init.scm: define foreign-source, does nothing.

	* init.scm: load syntax.scm instead of slib's macro-by-example.
	load defrec.scm.

	* defrec.scm: copied from scsh.

	* syntax.scm: copied from scsh.
	Redefine define-syntax and define syntax-error.  By some miracle
	it seems to work.

Mon Dec 16 05:53:43 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* receive.scm: copied from scsh.

Fri Dec 13 04:53:50 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* utilities.scm (compose): uncomment.
	* init.scm (values): get call-with-values from slib.

Wed Dec 11 22:15:18 1996  Gary Houston  <ghouston@actrix.gen.nz>

	* init.scm: define bitwise-not, bitwise-and, bitwise-ior, bitwise-xor.
	use slib's macro-by-example for define-syntax for now.
	load let-opt.scm and utilities.scm.

	* utilities.scm: replace usage of :optional with optional.
	comment out compose, haven't decided what to do with call-with-values.

	* let-opt.scm: comment out everything but the `optional'
 	macro, renamed from :optional.
	
	* COPYING, let-opt.scm, utilities.scm: from scsh 0.4.4.
	* ChangeLog, INCOMPAT, init.scm: new files.
	* new directory.

