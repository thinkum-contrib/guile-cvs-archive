summary: dynamic-link can not request a specific interface number
reported: Rob Browning <rlb@defaultvalue.org>, 2001
Assigned: Rob Browning <rlb@defaultvalue.org>, 2002-03-25
tags: release-critical-1.6

When loading a shared library with dynamic-link (or indirectly via
load-extension), you can not specify an interface number.  You will
get whatever has been installed most recently, which might not be what
is appropriate.

Specifically, when 1.6 is released, its libguilereadline.la or
libguilereadline.so will probably shadow the libguilereadline.la or
libguilereadline.so of an already installed 1.4.  Guile 1.4 will then
erroneously load 1.6's libguilereadline and will likely crash.

To fix this, we need to 

1) make sure that 1.4 will not accidentally find one of 1.6's shared libraries.

2) fix dynamic-link to accept a interface number to avoid this problem
   more cleanly in the future.

1) can be done by renaming all shared libraries to include the current
interface number (i.e. libguilereadline-15) and needs to be done
before 1.6 is released.  2) is harder to do and should be deferred to
1.8.
